{"version":3,"file":"Invoice-667e4d1d.js","sources":["../../../resources/js/views/billings/section/Invoice.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <transition name=\"slide-fade\">\r\n        <el-row :gutter=\"40\" class=\"panel-group\" v-if=\"!isPay\">\r\n            <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\" class=\"card-panel-col\">\r\n                <div class=\"card-panel dashboard-card\">\r\n                    <div class=\"dashboard-panel-description\">\r\n                        <div class=\"dashboard-panel-top-text\">\r\n                            <el-row :gutter=\"20\" class=\"mb-10\">\r\n                                <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\" class=\"mb-10\">\r\n                                    <span class=\"font-weight-100\">Total Due</span>\r\n                                    <h2 class=\"text-primary\"><b>{{ formatAmountCurrency(\"2100\") }}</b></h2>\r\n                                </el-col>\r\n                                <el-col :xs=\"12\" :sm=\"12\" :lg=\"12\" class=\"\">\r\n                                    <span class=\"font-weight-100\">Latest Charges</span>\r\n                                    <h4 class=\"text-primary\"><b>{{ formatAmountCurrency(600) }}</b></h4>\r\n                                </el-col>\r\n                                <el-col :xs=\"12\" :sm=\"12\" :lg=\"12\" class=\"\">\r\n                                    <span class=\"font-weight-100\">Overdue Charges</span>\r\n                                    <h4 class=\"text-primary\"><b>{{ formatAmountCurrency(1600) }}</b></h4>\r\n                                </el-col>\r\n                            </el-row>\r\n\r\n                        </div>\r\n                        <div class=\"dashboard-panel-footer-text\">\r\n                            <el-row :gutter=\"20\">\r\n                                <el-col :xs=\"12\" :sm=\"12\" :lg=\"12\" class=\"\">\r\n                                </el-col>\r\n                                <el-col :xs=\"12\" :sm=\"12\" :lg=\"12\" class=\"\">\r\n                                    <el-button type=\"primary\" class=\"card-panel-call-button\" size=\"large\" @click=\"handlePay\">\r\n                                        Pay Now\r\n                                    </el-button>\r\n                                </el-col>\r\n                            </el-row>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :gutter=\"40\" v-else class=\"mb-2\">\r\n            <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\" class=\"mb-2\">\r\n              <el-button :icon=\"ArrowLeft\" class=\"pan-back-btn\" @click=\"back\">{{ langTitle('back') }}</el-button>\r\n            </el-col>\r\n            <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n              <el-space :fill=\"true\" :direction=\"'horizontal'\" style=\"width:100%\">\r\n                <el-card class=\"box-card\">\r\n                      <span>What do you want to pay?</span>\r\n                      <el-switch\r\n                        v-model=\"payAll\"\r\n                        class=\"ml-2 float-right\"\r\n                        inline-prompt\r\n                        size=\"large\"\r\n                        style=\"--el-switch-on-color: #13ce66; --el-switch-off-color: #ff4949; height: 20px;\"\r\n                        active-text=\"Pay all\"\r\n                        inactive-text=\"Pay all\"\r\n                      />\r\n                </el-card>\r\n              </el-space>\r\n            </el-col>\r\n        </el-row>\r\n      </transition>\r\n      <el-row>\r\n          <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\" class=\"mb-5\">\r\n              <h3>Detail charges</h3>\r\n          </el-col>\r\n          <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\" class=\"mb-5\">\r\n              <el-checkbox-group\r\n                v-model=\"checkedItems\"\r\n                @change=\"handleCheckedItemsChange\"\r\n              >\r\n              <el-collapse v-model=\"collapseActive\" @change=\"handleChange\" class=\"collaos\">\r\n                  <el-collapse-item v-for=\"(item, index) in dummyCharges\" :key=\"index\" :name=\"`parent-${index}`\">\r\n                      <template #title>\r\n                          <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\">\r\n                              <b class=\"text-primary\">{{ item.categories }}</b>\r\n                          </el-col>\r\n                          <b class=\"text-primary\">{{ formatAmountCurrency(item.total) }}</b>\r\n                      </template>\r\n                      <el-row>\r\n                          <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n                              <el-collapse v-model=\"subCollapseActive\" @change=\"handleChange\" class=\"collaos\">\r\n                                  <el-collapse-item v-for=\"(subCollapse, subIndex) in item.children\" :key=\"`sub-${index}-${subIndex}`\" :name=\"`sub-${index}-${subIndex}`\">\r\n                                      <template #title>\r\n                                          <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\">\r\n                                          <b>{{ subCollapse.date }}</b>\r\n                                          </el-col>\r\n                                          <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\">\r\n                                          {{ formatAmountCurrency(subCollapse.total) }}\r\n                                          </el-col>\r\n                                      </template>\r\n                                      <el-row>\r\n                                          <el-col :xs=\"14\" :sm=\"14\" :lg=\"14\">\r\n                                          <span class=\"text-secondary\">{{ subCollapse.date }} (payment due)</span>\r\n                                          </el-col>\r\n                                          <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\">\r\n                                          <span class=\"text-secondary\">{{ subCollapse.invoice_no }}</span>\r\n                                          </el-col>\r\n                                          <el-col :xs=\"2\" :sm=\"2\" :lg=\"2\" v-if=\"isPay\">\r\n                                            <el-checkbox class=\"text-none\" :name=\"`sub-${item.id}-${subCollapse.id}`\" :key=\"`sub-${item.id}-${subCollapse.id}`\" :label=\"`sub-${item.id}-${subCollapse.id}`\" />\r\n                                          </el-col>\r\n                                      </el-row>\r\n                                      <el-row v-for=\"(subCollapseDetail, subDetailIndex) in subCollapse.details\" :key=\"`sub-${index}-${subIndex}-${subDetailIndex}`\" >\r\n                                          <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\">\r\n                                              - {{ subCollapseDetail.description }}\r\n                                          </el-col>\r\n                                          <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\">\r\n                                                  {{ formatAmountCurrency(subCollapseDetail.amount) }}\r\n                                          </el-col>\r\n                                      </el-row>\r\n                                  </el-collapse-item>\r\n                              </el-collapse>\r\n                          </el-col>\r\n                      </el-row>\r\n                  </el-collapse-item>\r\n              </el-collapse>\r\n              </el-checkbox-group>\r\n          </el-col>\r\n      </el-row>\r\n      <el-row v-if=\"checkedItems.length\">\r\n          <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n            <el-space :fill=\"true\" :direction=\"'horizontal'\" style=\"width:100%\">\r\n              <el-card class=\"box-card\">\r\n                  <el-row>\r\n                    <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\" class=\"mb-2\">\r\n                    <span>Subtotal</span>\r\n                    </el-col>\r\n                    <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\" class=\"text-right\">\r\n                    <span>{{ formatAmountCurrency(20) }}</span>\r\n                    </el-col>\r\n                    <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\" class=\"mb-2\">\r\n                    <span>Tax (6%)</span>\r\n                    </el-col>\r\n                    <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\" class=\"text-right\">\r\n                    <span>{{ formatAmountCurrency(20) }}</span>\r\n                    </el-col>\r\n                    <el-col :xs=\"16\" :sm=\"16\" :lg=\"16\" class=\"mb-2\">\r\n                    <span><b>Total amount</b></span>\r\n                    </el-col>\r\n                    <el-col :xs=\"8\" :sm=\"8\" :lg=\"8\" class=\"text-right\">\r\n                    <span><b>{{ formatAmountCurrency(20) }}</b></span>\r\n                    </el-col>\r\n                    <el-col :xs=\"24\" :sm=\"24\" :lg=\"24\">\r\n                      <el-button type=\"primary\" class=\"w-100\" @click=\"payNow\">Pay</el-button>\r\n                    </el-col>\r\n                  </el-row>\r\n              </el-card>\r\n            </el-space>\r\n          </el-col>\r\n      </el-row>\r\n    </div>\r\n</template>\r\n<script setup lang=\"ts\">\r\nimport { onMounted, ref, watch } from 'vue'\r\nimport { langTitle } from '@/hooks/use-common'\r\nimport commonUtil from '@/utils/common-util'\r\nimport { ArrowLeft } from '@element-plus/icons-vue'\r\nimport { ElMessage, ElMessageBox } from 'element-plus'\r\nimport fields from '../fields'\r\n\r\nconst { formatAmountCurrency } = commonUtil();\r\nconst { dummyCharges } = fields();\r\nconst collapseActive = ref(['parent-0'])\r\nconst subCollapseActive = ref(['sub-1'])\r\nconst checkedItems = ref([])\r\nconst isPay = ref(false);\r\nconst payAll = ref(false)\r\nconst items = ref([]);\r\nonMounted(() => {\r\n  dummyCharges.forEach(function(item, key) {\r\n    item.children.forEach(function(children, childKey) {\r\n      console.log(item)\r\n        items.value.push(`sub-${item.id}-${children.id}`)\r\n    })\r\n  })\r\n})\r\nconst handleChange = (val: string[]) => {\r\n  // console.log(val)\r\n}\r\nconst handlePay = () => {\r\n  isPay.value = true;\r\n}\r\nconst back = () => {\r\n  isPay.value = false;\r\n  payAll.value = false;\r\n  items.value = [];\r\n  checkedItems.value = [];\r\n}\r\nconst handleCheckedItemsChange = (value: string[]) => {\r\n  const checkedCount = value.length\r\n  payAll.value = checkedCount === items.value.length\r\n}\r\nconst payNow = () => {\r\n  ElMessageBox.confirm(\r\n    '<span class=\"text-secondary\">Date</span><br/><strong>28 Apr 2021</strong><br/><span class=\"text-secondary\">Payment Method</span><br/><strong>Kiple</strong><br/><span class=\"text-secondary\">Total amount</span><br/><strong>RM 2100</strong>',\r\n    'Payment Success',\r\n    {\r\n      dangerouslyUseHTMLString: true,\r\n      confirmButtonText: 'OK',\r\n      showCancelButton: false,\r\n      showClose: false,\r\n      type: 'success',\r\n      center: true,\r\n    }\r\n  )\r\n    .then(() => {\r\n      ElMessage({\r\n        type: 'success',\r\n        message: 'Payment successful!',\r\n      })\r\n    })\r\n    .catch(() => {\r\n    })\r\n}\r\nwatch((payAll), (value) => {\r\n  value == true ? checkedItems.value = items.value : items.value.length != checkedItems.value.length ? checkedItems.value : checkedItems.value = [] \r\n})\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.panel-group {\r\n  margin-top: 18px;\r\n\r\n  .card-panel-col {\r\n    margin-bottom: 32px;\r\n  }\r\n\r\n  .card-panel {\r\n    height: 108px;\r\n    cursor: pointer;\r\n    font-size: 12px;\r\n    position: relative;\r\n    overflow: hidden;\r\n    color: #666;\r\n    background: #fff;\r\n    box-shadow: 4px 4px 40px rgba(0, 0, 0, .05);\r\n    border-color: rgba(0, 0, 0, .05);\r\n    \r\n    &.dashboard-card {\r\n      height: 230px;\r\n      border-radius: 10px;\r\n      img {\r\n        width: 100%;\r\n        height: 100%;\r\n        transition: all 0.2s linear;\r\n        &:hover {\r\n          transform: scale(1.1, 1.1);\r\n          filter: contrast(130%);\r\n        }\r\n      }\r\n    }\r\n    &:hover {\r\n      .card-panel-icon-wrapper {\r\n        color: #fff;\r\n      }\r\n\r\n      .icon-people {\r\n        background: #40c9c6;\r\n      }\r\n\r\n      .icon-message {\r\n        background: #36a3f7;\r\n      }\r\n\r\n      .icon-money {\r\n        background: #f4516c;\r\n      }\r\n\r\n      .icon-shopping {\r\n        background: #34bfa3\r\n      }\r\n    }\r\n\r\n    .icon-people {\r\n      color: #40c9c6;\r\n    }\r\n\r\n    .icon-message {\r\n      color: #36a3f7;\r\n    }\r\n\r\n    .icon-money {\r\n      color: #f4516c;\r\n    }\r\n\r\n    .icon-shopping {\r\n      color: #34bfa3\r\n    }\r\n\r\n    .dashboard-main-panel-icon-wrapper {\r\n      float: left;\r\n      transition: all 0.38s ease-out;\r\n      border-radius: 6px;\r\n      position: absolute;\r\n    }\r\n    .dashboard-panel-description {\r\n      font-weight: bold;\r\n      padding: 25px 0 0 15px;\r\n      position: absolute;\r\n      width: 100%;\r\n      .dashboard-panel-top-text{ \r\n        font-size: 18px;\r\n        // margin-bottom: 180px\r\n      }\r\n      .dashboard-panel-footer-text {\r\n        .card-panel-left-icon {\r\n          padding: 0;\r\n          font-size: 30px;\r\n          span {\r\n            font-size: 20px\r\n          }\r\n        }\r\n        .card-panel-right-icon {\r\n          font-size: 30px;\r\n        }\r\n        .card-panel-call-button {\r\n          font-size: 25px;\r\n          padding: 0 20px;\r\n          float: right;\r\n        }\r\n      }\r\n    }\r\n\r\n    .card-panel-icon-wrapper {\r\n      float: left;\r\n      margin: 14px 0 0 14px;\r\n      padding: 16px;\r\n      transition: all 0.38s ease-out;\r\n      border-radius: 6px;\r\n      span {\r\n        display: none;\r\n      }\r\n    }\r\n\r\n    .card-panel-icon {\r\n      float: left;\r\n      font-size: 48px;\r\n    }\r\n\r\n    .card-panel-description {\r\n      float: right;\r\n      font-weight: bold;\r\n      margin: 45px;\r\n      margin-left: 0px;\r\n\r\n      .card-panel-text {\r\n        line-height: 18px;\r\n        color: rgba(0, 0, 0, 0.45);\r\n        font-size: 30px;\r\n        margin-bottom: 12px;\r\n      }\r\n\r\n      .card-panel-num {\r\n        font-size: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width:550px) {\r\n  .card-panel-description {\r\n    display: none;\r\n  }\r\n\r\n  .dashboard-main-panel-icon-wrapper {\r\n    float: none !important;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 !important;\r\n  }\r\n\r\n  .card-panel-icon-wrapper {\r\n    float: none !important;\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0 !important;\r\n\r\n    .svg-icon {\r\n      display: block;\r\n      font-size: 35px !important;\r\n      margin: 5px auto !important;\r\n      float: none !important;\r\n    }\r\n    span {\r\n      display: block !important;\r\n      width: 100%; \r\n      text-align: center;\r\n      margin-top: 5px;\r\n      font-size: 20px;\r\n    }\r\n  }\r\n}\r\n</style>"],"names":["formatAmountCurrency","commonUtil","dummyCharges","fields","collapseActive","ref","subCollapseActive","checkedItems","isPay","payAll","items","onMounted","item","key","children","childKey","handleChange","val","handlePay","back","handleCheckedItemsChange","value","checkedCount","payNow","ElMessageBox","ElMessage","watch"],"mappings":"k0CA+JA,KAAA,CAAA,qBAAAA,GAAAC,KACA,CAAA,aAAAC,GAAAC,KACAC,EAAAC,EAAA,CAAA,UAAA,CAAA,EACAC,EAAAD,EAAA,CAAA,OAAA,CAAA,EACAE,EAAAF,EAAA,CAAA,CAAA,EACAG,EAAAH,EAAA,EAAA,EACAI,EAAAJ,EAAA,EAAA,EACAK,EAAAL,EAAA,CAAA,CAAA,EACAM,GAAA,IAAA,CACET,EAAA,QAAA,SAAAU,EAAAC,EAAA,CACED,EAAA,SAAA,QAAA,SAAAE,EAAAC,EAAA,CACE,QAAA,IAAAH,CAAA,EACEF,EAAA,MAAA,KAAA,OAAAE,EAAA,MAAAE,EAAA,IAAA,CAAgD,CAAA,CACnD,CAAA,CACF,CAAA,EAEH,MAAAE,EAAAC,GAAA,CAAwC,EAGxCC,EAAA,IAAA,CACEV,EAAA,MAAA,EAAc,EAEhBW,EAAA,IAAA,CACEX,EAAA,MAAA,GACAC,EAAA,MAAA,GACAC,EAAA,MAAA,GACAH,EAAA,MAAA,EAAsB,EAExBa,EAAAC,GAAA,CACE,MAAAC,EAAAD,EAAA,OACAZ,EAAA,MAAAa,IAAAZ,EAAA,MAAA,MAA4C,EAE9Ca,EAAA,IAAA,CACEC,EAAA,QAAa,gPACX,kBACA,CACA,yBAAA,GAC4B,kBAAA,KACP,iBAAA,GACD,UAAA,GACP,KAAA,UACL,OAAA,EACE,CACV,EAAA,KAAA,IAAA,CAGEC,EAAA,CAAU,KAAA,UACF,QAAA,qBACG,CAAA,CACV,CAAA,EAAA,MAAA,IAAA,CAEU,CAAA,CACZ,EAEL,OAAAC,GAAAjB,EAAAY,GAAA,CACEA,GAAA,GAAAd,EAAA,MAAAG,EAAA,MAAAA,EAAA,MAAA,QAAAH,EAAA,MAAA,OAAAA,EAAA,MAAAA,EAAA,MAAA,EAAgJ,CAAA"}