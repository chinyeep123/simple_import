import{o as I,p as Q,q as A,r as O}from"./_element-plus-56dce36e.js";import{r,i as U,o as m,c as N,a2 as B,a3 as p,a7 as F,a6 as $,x as L,w as j,ao as z,E as o,a as l,a8 as V,u as t,ai as G,ac as H,n as J,aD as W,aE as X}from"./_@vue-e3a2634f.js";import{a8 as Y,ac as Z}from"./__vendor-2ef38daa.js";import{_ as q,u as C,b as ee,l as E}from"../js2/app-5ed018fd.js";import"./_@element-plus-27eae3dd.js";const se={__name:"Install",setup(u){const c=r(null),_=r(!1),d=async()=>{if(!c.value)return;const e=await c.value.prompt();console.log(`Install prompt was: ${e.outcome}`),c.value=null,installButton.setAttribute("hidden","")};return U(()=>{window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),c.value=e,_.value=!0})}),(e,f)=>{const v=I;return m(),N("div",null,[_.value?(m(),B(v,{key:0,class:"add-button",id:"install",onClick:d},{default:p(()=>[F(" Install App ")]),_:1})):$("",!0)])}}};const oe=u=>(W("data-v-491b7075"),u=u(),X(),u),te={class:"login-container"},ae={class:"title-container"},ne={class:"title text-center"},le={class:"svg-container"},re=oe(()=>l("div",{class:"show-pwd"},null,-1)),ce={class:"svg-container"},ie={class:"tip-message"},ue={__name:"Login",setup(u){const{settings:c}=C(),_=Y(),d=ee().formRules,e=L({keyword:"admin",password:"123456"}),f=L({otherQuery:{},redirect:void 0}),v=s=>Object.keys(s).reduce((a,n)=>(n!=="redirect"&&(a[n]=s[n]),a),{});j(()=>_.query,s=>{s&&(f.redirect=s.redirect,f.otherQuery=v(s))},{immediate:!0});let g=r(!1),S=r("");const y=r(null),h=()=>{y.value.validate(s=>{g=!0,s&&T()})},P=Z(),R=C(),T=()=>{R.setLogin(!0),P.push("/")},i=r("password"),k=r(null),D=()=>{i.value==="password"?i.value="":i.value="password",J(()=>{k.value.focus()})};return(s,a)=>{const n=z("svg-icon"),b=Q,x=A,K=I,M=O;return m(),N("div",te,[o(M,{ref_key:"refLoginForm",ref:y,class:"login-form",model:e,rules:t(d)},{default:p(()=>[l("div",ae,[l("h3",ne,V(t(c).title),1)]),o(x,{prop:"keyword",rules:t(d).isNotNull(t(E)("username_validate"))},{default:p(()=>[l("span",le,[o(n,{"icon-class":"user"})]),o(b,{modelValue:e.keyword,"onUpdate:modelValue":a[0]||(a[0]=w=>e.keyword=w),placeholder:"username(admin)"},null,8,["modelValue"]),re]),_:1},8,["rules"]),o(x,{prop:"password",rules:t(d).isNotNull(t(E)("username_validate"))},{default:p(()=>[l("span",ce,[o(n,{"icon-class":"password"})]),(m(),B(b,{key:i.value,ref_key:"refPassword",ref:k,modelValue:e.password,"onUpdate:modelValue":a[1]||(a[1]=w=>e.password=w),type:i.value,name:"password",placeholder:"password(123456)",onKeyup:G(h,["enter"])},null,8,["modelValue","type","onKeyup"])),l("span",{class:"show-pwd",onClick:D},[o(n,{"icon-class":i.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1},8,["rules"]),l("div",ie,V(t(S)),1),o(K,{loading:t(g),type:"primary",class:"login-btn",size:"default",onClick:H(h,["prevent"])},{default:p(()=>[F(" Login ")]),_:1},8,["loading","onClick"]),o(se)]),_:1},8,["model","rules"])])}}},ve=q(ue,[["__scopeId","data-v-491b7075"]]);export{ve as default};
//# sourceMappingURL=Login-51313333.js.map
