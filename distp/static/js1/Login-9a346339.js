import{o as V,p as M,q as U,r as H}from"./_element-plus-37671e98.js";import{r as c,i as O,o as w,c as B,a3 as N,a4 as m,a7 as P,L as $,x as L,w as j,ao as z,E as t,a as r,a8 as x,u as a,ai as q,ac as G,n as J,aD as W,aE as X}from"./_@vue-37f9eba6.js";import{a9 as Y,a8 as Z,ad as ee,af as oe}from"./__vendor-1966d9c6.js";import{u as C,b as se,l as E}from"../js2/app-fee0c45d.js";import"./_@element-plus-51f61cc2.js";const te={__name:"Install",setup(u){const i=c(null),f=c(!1),p=async()=>{if(!i.value)return;const o=await i.value.prompt();console.log(`Install prompt was: ${o.outcome}`),i.value=null,showInAppInstallPromotion(),installButton.setAttribute("hidden","")};return O(()=>{"onbeforeinstallprompt"in window&&(console.log("aa"),window.addEventListener("beforeinstallprompt",o));function o(e){e.preventDefault()}window.addEventListener("beforeinstallprompt",e=>{console.log("e",e),e.preventDefault(),i.value=e,f.value=!0}),window.addToHomescreen&&(ath=addToHomescreen({onCanInstall:function(e,_){console.log("aaa",_)},onBeforeInstallPrompt:function(e){console.log("native prompt: ",e)}}))}),(o,e)=>{const _=V;return w(),B("div",null,[f.value?(w(),N(_,{key:0,class:"add-button",id:"install",onClick:p},{default:m(()=>[P(" Install App ")]),_:1})):$("",!0)])}}};const ne=u=>(W("data-v-ab740cb4"),u=u(),X(),u),ae={class:"login-container"},le={class:"title-container"},re={class:"title text-center"},ce={class:"svg-container"},ie=ne(()=>r("div",{class:"show-pwd"},null,-1)),de={class:"svg-container"},ue={class:"tip-message"},pe={__name:"Login",setup(u){const{settings:i}=C(),f=Z(),p=se().formRules,o=L({keyword:"admin",password:"123456"}),e=L({otherQuery:{},redirect:void 0}),_=(s,n)=>{console.log("can")},F=s=>Object.keys(s).reduce((n,l)=>(l!=="redirect"&&(n[l]=s[l]),n),{});j(()=>f.query,s=>{s&&(e.redirect=s.redirect,e.otherQuery=F(s))},{immediate:!0});let g=c(!1),S=c("");const h=c(null),y=()=>{h.value.validate(s=>{g=!0,s&&R()})},T=ee(),Q=C(),R=()=>{Q.setLogin(!0),T.push("/")},d=c("password"),b=c(null),D=()=>{d.value==="password"?d.value="":d.value="password",J(()=>{b.value.focus()})};return(s,n)=>{const l=z("svg-icon"),k=M,I=U,A=V,K=H;return w(),B("div",ae,[t(K,{ref_key:"refLoginForm",ref:h,class:"login-form",model:o,rules:a(p)},{default:m(()=>[r("div",le,[r("h3",re,x(a(i).title),1)]),t(I,{prop:"keyword",rules:a(p).isNotNull(a(E)("username_validate"))},{default:m(()=>[r("span",ce,[t(l,{"icon-class":"user"})]),t(k,{modelValue:o.keyword,"onUpdate:modelValue":n[0]||(n[0]=v=>o.keyword=v),placeholder:"username(admin)"},null,8,["modelValue"]),ie]),_:1},8,["rules"]),t(I,{prop:"password",rules:a(p).isNotNull(a(E)("username_validate"))},{default:m(()=>[r("span",de,[t(l,{"icon-class":"password"})]),(w(),N(k,{key:d.value,ref_key:"refPassword",ref:b,modelValue:o.password,"onUpdate:modelValue":n[1]||(n[1]=v=>o.password=v),type:d.value,name:"password",placeholder:"password(123456)",onKeyup:q(y,["enter"])},null,8,["modelValue","type","onKeyup"])),r("span",{class:"show-pwd",onClick:D},[t(l,{"icon-class":d.value==="password"?"eye":"eye-open"},null,8,["icon-class"])])]),_:1},8,["rules"]),r("div",ue,x(a(S)),1),t(A,{loading:a(g),type:"primary",class:"login-btn",size:"default",onClick:G(y,["prevent"])},{default:m(()=>[P(" Login ")]),_:1},8,["loading","onClick"]),t(te),t(oe,{text:"https://simple-import.comecodetogether.com",callback:_,qid:"testid"})]),_:1},8,["model","rules"])])}}},ge=Y(pe,[["__scopeId","data-v-ab740cb4"]]);export{ge as default};
//# sourceMappingURL=Login-9a346339.js.map
